- content_for(:container_class) { "narrow" }
- content_for(:title) { "Sign up â€” Plural Profiles" }

.card
  %h1 Sign up

  %p Plural Profiles is invite-only. You'll need an invite code from an existing member to create an account.

  - if @user.errors.any?
    .error-messages
      - @user.errors.full_messages.each do |message|
        %p= message

  = form_with model: @user, url: registration_path do |form|
    .form-group
      = label_tag :invite_code, "Invite code"
      = text_field_tag :invite_code, params[:invite_code], required: true, autocomplete: "off", class: "invite-code-input", minlength: InviteCode::CODE_LENGTH, maxlength: InviteCode::CODE_LENGTH, placeholder: "XXXXXXXX"

    %hr.form-divider

    .form-group
      = form.label :email_address, "Email address"
      = form.email_field :email_address, required: true, autocomplete: "email"

    .form-group
      = form.label :password
      = form.password_field :password, required: true, minlength: 8, autocomplete: "new-password"

    .form-group
      = form.label :password_confirmation, "Confirm password"
      = form.password_field :password_confirmation, required: true, minlength: 8, autocomplete: "new-password"

    %hr.form-divider

    .terms
      %p We do not police identity or self-expression.
      %p We only remove spam, illegal content, or material that threatens the safety of the platform.
      %p We use cookies to keep you signed in, nothing else.
      %label.checkbox-label
        = check_box_tag :terms_accepted, "1", false, required: true
        I agree to these terms

    .form-group
      = form.submit "Sign up"

  .form-links
    %p
      Already have an account?
      = link_to "Sign in", new_session_path

= render "shared/about"
